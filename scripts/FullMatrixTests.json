{
    "Remote": {
        "Exe": "quicperf",
        "Arguments": "-selfsign:1"
    },
    "FullMatrix": true,
    "Tests": [
        {
            "TestName": "ThroughputUp",
            "Local": {
                "Platform": "Windows",
                "Tls": ["stub", "schannel", "openssl", "mitls"],
                "Arch": ["x64", "x86", "arm", "arm64"],
                "Exe": "quicperf",
                "Arguments": "-test:Throughput -target:$RemoteAddress -bind:$LocalAddress:4434 -ip:4 -uni:1 -upload:2000000000"
            },
            "Variables": [
                {
                    "Name": "Encryption",
                    "Local": {
                        "On": "",
                        "Off": "-encrypt:0"
                    },
                    "Default": "On"
                },
                {
                    "Name": "SendBuffering",
                    "Local": {
                        "On": "",
                        "Off": "-sendbuf:0"
                    },
                    "Default": "Off"
                }
            ],
            "AllowLoopback": true,
            "Iterations": 5,
            "RemoteReadyMatcher": "Started!",
            "ResultsMatcher": ".*@ (.*) kbps.*",
            "Formats": ["{0} kbps"],
            "RegressionThreshold": "-8.0"
        },
        {
            "TestName": "ThroughputUp",
            "Local" : {
                "Platform": "linux",
                "Tls": ["stub", "openssl"],
                "Arch": ["x64", "arm"],
                "Exe": "quicperf",
                "Arguments": "-test:Throughput -target:$RemoteAddress -uni:1 -upload:2000000000"
            },
            "Variables": [
                {
                    "Name": "Encryption",
                    "Local": {
                        "On": "",
                        "Off": "-encrypt:0"
                    },
                    "Default": "On"
                },
                {
                    "Name": "SendBuffering",
                    "Local": {
                        "On": "",
                        "Off": "-sendbuf:0"
                    },
                    "Default": "Off"
                }
            ],
            "AllowLoopback": true,
            "Iterations": 5,
            "RemoteReadyMatcher": "Started!",
            "ResultsMatcher": ".*@ (.*) kbps.*",
            "Formats": ["{0} kbps"],
            "RegressionThreshold": "-10.0"
        },
        {
            "TestName": "ThroughputDown",
            "Local": {
                "Platform": "Windows",
                "Tls": ["stub", "schannel", "openssl", "mitls"],
                "Arch": ["x64", "x86", "arm", "arm64"],
                "Exe": "quicperf",
                "Arguments": "-test:Throughput -target:$RemoteAddress -bind:$LocalAddress:4434 -ip:4 -uni:1 -download:2000000000"
            },
            "Variables": [
                {
                    "Name": "Encryption",
                    "Local": {
                        "On": "",
                        "Off": "-encrypt:0"
                    },
                    "Default": "On"
                }
            ],
            "AllowLoopback": true,
            "Iterations": 5,
            "RemoteReadyMatcher": "Started!",
            "ResultsMatcher": ".*@ (.*) kbps.*",
            "Formats": ["{0} kbps"],
            "RegressionThreshold": "-8.0"
        },
        {
            "TestName": "ThroughputDown",
            "Local" : {
                "Platform": "linux",
                "Tls": ["stub", "openssl"],
                "Arch": ["x64", "arm"],
                "Exe": "quicperf",
                "Arguments": "-test:Throughput -target:$RemoteAddress -uni:1 -download:2000000000"
            },
            "Variables": [
                {
                    "Name": "Encryption",
                    "Local": {
                        "On": "",
                        "Off": "-encrypt:0"
                    },
                    "Default": "On"
                }
            ],
            "AllowLoopback": true,
            "Iterations": 5,
            "RemoteReadyMatcher": "Started!",
            "ResultsMatcher": ".*@ (.*) kbps.*",
            "Formats": ["{0} kbps"],
            "RegressionThreshold": "-10.0"
        }
    ]
}
